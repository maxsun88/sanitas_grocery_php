<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Login Template CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <!-- Bootstrap CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Homepage styling for nav bar and footer -->
    <link rel="stylesheet" href="assets/Home_Page/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(function(){
            $('#our-header').load('header.html');
            $('#our-footer').load('footer.html');
        });
    </script>
    <script>
        $(function() {
            // For two buttons
            myStorage = window.sessionStorage;
            $("#sel1").on('change', function () {
                myStorage.setItem('sel1', $('option:selected', this).index());
            });
            $("#sel2").on('change', function () {
                myStorage.setItem('sel2', $('option:selected', this).index());
            });

            window.onbeforeunload = function () {
                myStorage.setItem("quantity0", $('#quantity0').val());
                myStorage.setItem("quantity1", $('#quantity1').val());
                console.log("onbeforeunload " + localStorage);
            }

            window.onload = function () {
                var quantity1 = myStorage.getItem("quantity0");
                var quantity2 = myStorage.getItem("quantity1");
                if (quantity1 !== null) $('#quantity0').val(quantity1);
                if (quantity2 !== null) $('#quantity1').val(quantity2);
                if (myStorage.getItem('sel1')) $("#sel1 option").eq(myStorage.getItem('sel1')).prop('selected', true);
                if (myStorage.getItem('sel2')) $("#sel2 option").eq(myStorage.getItem('sel2')).prop('selected', true);
            }
        });
    </script>
    <script>
        function productPrice(){
            var pricePerUnitList=document.getElementsByClassName('price-per-kg');
            var totalPerProductList=new Array(pricePerUnitList.length);
            var i=0;
            for (i;i<totalPerProductList.length;i++){
                totalPerProductList[i]= parseFloat(pricePerUnitList[i].innerHTML.substring(1)) * document.getElementById(('quantity'+i)).value;
                document.getElementById("summary"+i).innerHTML="$"+totalPerProductList[i].toFixed(2);
            }
            cartPrice();
        }

        function cartPrice(){
            var x=document.getElementsByClassName('price');
            var i;
            var sum=0.0;
            for(i=0;i<x.length;i++){
                sum += parseFloat(x[i].innerHTML.substring(1));
            }
            var gst=sum*0.05;
            var qst=sum*0.15;
            var total=sum+gst+qst;

            document.getElementById("subtotal").innerHTML="$"+sum.toFixed(2);
            document.getElementById("gst").innerHTML="$"+gst.toFixed(2);
            document.getElementById("qst").innerHTML="$"+qst.toFixed(2);
            document.getElementById("total").innerHTML="$"+total.toFixed(2);
        }
    </script>
    <title>Sanitas Shopping Cart</title>
</head>
<body>
<div id="our-header"></div>
<!--Grid row-->
<div class="row">
    <!--Grid column-->
    <div class="col-lg-6 ml-5">
        <!-- Card -->
        <div class="mb-3">
            <div class="pt-4 wish-list">
                <h5 class="mb-4">Cart (<span>2</span> items)</h5>

                <div class="row mb-4">
                    <div class="col-md-5 col-lg-3 col-xl-3">
                        <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                            <img class="img-fluid w-100" src="assets/Page2/imgs/bananapage2.jpg">
                  <a href="#!">
                    <div class="mask">

                    </div>
                </a>
            </div>
        </div>
        <div class="col-md-7 col-lg-9 col-xl-9">
            <div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>Banana</h5>
                                    <p class="mb-2 text-muted text-uppercase small weight">190g avg.</p>
                                    <p class="mb-2 text-muted text-uppercase small price-per-kg">$1.74 /kg</p>
                                    <p class="mb-2 text-muted text-uppercase small price-per-lb">$0.79 /lb</p>
                                </div>
                                <div>
                                    <div class="def-number-input number-input safari_only mb-0 w-100">
                                        <input class="form-control" class="quantity" min="1" id="quantity0" name="quantity" value="7" type="number" onclick="productPrice()">
                                        <select class="form-control my-2" id="sel1">
                                            <option value="data4">Brazil</option>
                                            <option value="data5">Mexico</option>
                                            <option value="data6">Malaysia</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between align-items-center"></div>
                            <div>
                                <a href="#!" type="button" class="card-link-secondary small text-uppercase mr-3 mb-4"> Remove item </a>
                                <p class="mb-0"><span><strong class="price" id="summary0">$2.31</strong></span></p class="mb-0">
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="mb-4">
                <div class="row mb-4">
                    <div class="col-md-5 col-lg-3 col-xl-3">
                        <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                            <img class="img-fluid w-100" src="assets/Page2/imgs/grapes.jpg">
                            <div class="mask">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7 col-lg-9 col-xl-9">
                        <div>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <h5>Grapes</h5>
                                    <p class="mb-2 text-muted text-uppercase small weight">A bag is 1000G</p>
                                    <p class="mb-2 text-muted text-uppercase small price-per-kg">$6.59 /kg</p>
                                    <p class="mb-2 text-muted text-uppercase small price-per-lb">$22.99 /lb</p>
                                </div>
                                <div>
                                    <div class="def-number-input number-input safari_only mb-0 w-100">
                                        <input class="form-control" class="quantity" min="1" id="quantity1" name="quantity" value="2" type="number" onclick="productPrice()">
                                        <select class="form-control my-2" id="sel2">
                                            <option value="data4">Brazil</option>
                                            <option value="data5">Mexico</option>
                                            <option value="data6">Malaysia</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <a href="#!" type="button" class="card-link-secondary small text-uppercase mr-3 mb-4">
                                        Remove item
                                    </a>
                                </div>
                            </div>
                            <p class="mb-0"><span><strong class="price" id="summary1">$6.60</strong></span></p class="mb-0">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Card -->
        <div class="mb-3">
            <div class="pt-4">
                <h5 class="mb-4">We accept</h5>
                <img class="mr-2" width="45px"
                     src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/visa.svg"
                     alt="Visa">
                <img class="mr-2" width="45px"
                     src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/amex.svg"
                     alt="American Express">
                <img class="mr-2" width="45px"
                     src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/mastercard.svg"
                     alt="Mastercard">
                <img class="mr-2" width="45px"
                     src="https://mdbootstrap.com/wp-content/plugins/woocommerce/includes/gateways/paypal/assets/images/paypal.png"
                     alt="PayPal acceptance mark">
            </div>
        </div>
    </div>
    <!--Grid column-->
    <div class="col-lg-4">
        <!-- Card -->
        <div class="mb-3">
            <div class="pt-4">
                <h5 class="mb-3">The total amount of</h5>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                        Amount before taxes
                        <span id="subtotal">$8.91</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                        GST (5%)
                        <span id="gst">$0.45</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                        QST (10%)
                        <span id="qst">$0.89</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                        <div>
                            <strong>The total amount of</strong>
                            <strong>
                                <p class="mb-0">(including GST & QST)</p>
                            </strong>
                        </div>
                        <span id="total"><strong>$10.25</strong></span>
                    </li>
                </ul>
                <button type="button" class="btn btn-primary btn-block">Checkout</button>
                <button type="button" class="btn btn-dark btn-block" onclick="history.back()">Continue Shopping</button>
            </div>
        </div>
    </div>
</div>
<div id="our-footer"></div>
</body>
</html>
